## Цел на проекта

Този проект има за цел да създаде система за управление на файлове, която използва Docker Compose, MinIO S3 хранилище и Keycloak за автентикация с JWT токени. Приложението позволява качване, сваляне, обновяване и изтриване на файлове в MinIO хранилището чрез REST API.

## Изисквания

Проектът включва следните компоненти:

- **Docker Compose**: Инфраструктура, която управлява трите услуги: MinIO, Keycloak и приложението.
- **MinIO**: Локален S3 backend за съхранение на файлове.
- **Keycloak**: Сървър за управление на потребители и автентикация чрез JWT токени.
- **Приложение**: REST API за работа с файловете в MinIO хранилището (качване, сваляне, обновяване, изтриване).

## Инсталация

1. **Клониране на репозитория**:
   git clone <репозиторието на проекта>
   cd <папка с проекта>

2. **Стартиране на Docker Compose**:
    Уверете се, че имате инсталиран Docker и Docker Compose. След това стартирайте всички услуги с командата: docker-compose up -d

3. **Конфигуриране на Keycloak**:
    Достъпете Keycloak администраторския панел чрез http://localhost:8080.
    Създайте нова Realm и клиентска конфигурация за приложението, като зададете правилните стойности за автентикация с JWT.

4. **Конфигуриране на MinIO**:
    MinIO се стартира автоматично чрез Docker Compose. За достъп до интерфейса на MinIO, използвайте http://localhost:9000.
    Създайте S3 bucket за съхранение на файловете.


## REST API
Приложението предоставя следните API крайни точки:

1. **POST /upload**: Качва файл в S3 bucket.
    Тяло на заявката: Формуляр с файл.
    Отговор: Потвърждение за успешно качване.

2. **GET /download/{file_id}**: Сваля файл по идентификатор.
    Параметър: file_id (идентификатор на файла).
    Отговор: Бинарни данни на файла.

3. **PUT /update/{file_id}**: Обновява съществуващ файл.
    Параметър: file_id (идентификатор на файла).
    Тяло на заявката: Нов файл за качване.
    Отговор: Потвърждение за успешно обновяване.

4. **DELETE /delete/{file_id}**: Изтрива файл по идентификатор.
    Параметър: file_id (идентификатор на файла).
    Отговор: Потвърждение за успешно изтриване.

## Примерни заявки с cURL

Качване на файл:
    curl -X POST -F "file=@path_to_file" http://localhost:5000/upload

Сваляне на файл:
    curl http://localhost:5000/download/{file_id} --output downloaded_file

Обновяване на файл:
    curl -X PUT -F "file=@new_file" http://localhost:5000/update/{file_id}

Изтриване на файл:
    curl -X DELETE http://localhost:5000/delete/{file_id}


## Документация

Проектът включва подробна документация за настройка и използване на Keycloak и MinIO:

Конфигурация на Keycloak
Конфигурация на MinIO
Логване и обработка на грешки

Приложението записва логове за всяка заявка и грешка, която може да възникне по време на работа. Логовете могат да бъдат разглеждани чрез стандартните изходи на Docker.